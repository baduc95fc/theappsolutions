define(["jquery","inputTel","utils","clientid","cookie"],function(){$(document).ready(function(){var a=$(".mobile-callback"),b=$("button.requestcall-btn");a.intlTelInput({autoHideDialCode:!1,defaultCountry:"auto",numberType:"MOBILE",autoPlaceholder:!0,allowExtensions:!1,nationalMode:!1,geoIpLookup:function(a){$.get("https://ipinfo.io",function(){},"jsonp").always(function(b){var c=b&&b.country?b.country:"";a(c)})}}),a.on("click, blur, keyup",function(){var a=$(this).closest(".callback-block").find("button.requestcall-btn"),b=$(this).closest(".wrap-input").find(".error-msg"),c=getClientId();if($.trim($(this).val()))return $(this).intlTelInput("isValidNumber")?(a.removeAttr("disabled"),b.addClass("hide"),$(this).hasClass("requestcallBlock")?("undefined"!=typeof ga&&ga("send","event","theappsolutions_allforms_callback","comment","type_comment_"+c),console.log("allforms_callback input"+c)):$(this).hasClass("requestcallBlockPopup")&&("undefined"!=typeof ga&&ga("send","event","theappsolutions_popup_callback","comment","type_comment"),console.log("popup_callback input ")),!0):($(this).addClass("error"),a.attr("disabled","disabled"),b.removeClass("hide"),!1)}),b.click(function(){function a(a){a.css("opacity",0),setTimeout(function(){a.hide()},1400)}var b=$(this).closest(".callback-block").find(".mobile-callback"),c=$(this),d=getClientId();if(b.length){var e=b.intlTelInput("getNumber"),f=b.intlTelInput("getSelectedCountryData").name,g=new FormData;g.append("phone",e),g.append("country",f),g.append("clientId",d),$.ajax({type:"POST",url:"/api/contactus/requestcall/",data:g,processData:!1,contentType:!1,cache:!1,success:function(d){if(d.status)if("fail"===d.status)$("#ok-popup .popup-content").text("").append("Sorry, something has going wrong"),$(this).attr("disabled","disabled"),b.val(" "),a($("#request-call-popup")),$("#ok-popup").show(10,function(){$(this).css("opacity",1),setTimeout(function(){a($("#ok-popup"))},4e3)}),$("#ok-popup").click(function(){a($(this))});else if("ok"===d.status){var e=getClientId();$("#ok-popup .popup-content").text("").append("Thank you<br /><br />Your Call back request has been submitted successfully.<br />A member of our team will be in touch with you shortly.<br />"),"undefined"!=typeof ga&&ga("send","pageview","/thanks-popup_virtual"),console.log("pageview popup inputtel"),c.hasClass("requestcallBlock")?("undefined"!=typeof ga&&ga("send","event","theappsolutions_allforms_callback","send","submit_form_callback_"+e),console.log("submit_form_callback"+e)):c.hasClass("requestcallBlockPopup")&&("undefined"!=typeof ga&&ga("send","event","theappsolutions_popup_callback","send","submit_form_callback_"+e),console.log("submit_form_callback popup"+e)),c.attr("disabled","disabled"),b.val(" "),a($("#request-call-popup")),$("#ok-popup").show(10,function(){$(this).css("opacity",1),setTimeout(function(){a($("#ok-popup"))},4e3)}),$("#ok-popup").click(function(){a($(this))})}},error:function(a,b,c){alert(a.status),alert(c)}})}})})});